#import telebot
import config

#Ностройка соединения с новым ботом

#бот отвечает на все сообщения по умолчанию
import telebot
from telebot import types
import datetime
date = datetime.datetime.now()
#can_process = False

bot = telebot.TeleBot(config.token)

present = {"01.01": "Новый год",
               "07.01": "Рождество Христово",
               "11.01": "День заповедников и национальных парков России",
               "12.01": "День работника прокуратуры Российской Федерации",
               "13.01": "День Российской печати",
               "14.01": "Старый Новый год и День создания трубопроводных войск России",
               "15.01": "День оброзования Следственного комитета Российской Федерации",
               "19.01": "Крещение Господне у восточных христиан",
               "20.01": "День Республики Крым",
               "25.01": "День студентов",
               "27.01": "День воинской славы России - День полного освобождения города Ленинграда от блокады(1944 год) и День памяти жертв Холокоста",
               "31.01": "День рождения русской водки и Международный день ювелира",
               "02.02": "День воинской славы России - День победы в Сталинградской битве в 1943 году",
               "07.02": "День зимних видов спорта в России",
               "08.02": "День российской науки и День военного топографа в России",
               "09.02": "День гражданской авиации России",
               "10.02": "День дипломатического работника в России",
               "14.02": "День Святого Валентина",
               "15.02": "День памяти о россиянах, исполнявших служебный долг за пределами Отечества",
               "16.02": "День архива Минэнерго России",
               "17.02": "День Службы горючего Вооруженных Сил России",
               "18.02": "День транспортной полиции России",
               "21.02": "Международный день родного языка",
               "23.02": "День зашитнина Отечества",
               "27.02": "День Сил специальных операций в России",
               "01.03": "День кошек в России и День хостинг-провайдера в России",
               "08.03": "Международный женский день",
               "10.03": "День архивов в России",
               "11.03": "День работника органов наркоконтроля России",
               "12.03": "День работников уголовно-исполнительной системы Министерства юстиции России",
               "16.03": "День образования подразделений экономической безопасности в системе МВД России",
               "18.03": "День воссоединения Крыма с Россией",
               "19.03": "День моряка-подводника в России",
               "22.03": "Всемирный день водных ресурсов",
               "23.03": "День работников гидрометеорологической службы России",
               "24.03": "День штурманской службы ВВС России",
               "25.03": "День работника культуры России",
               "27.03": "Всемирный день театра и День внутренних войск МВД России",
               "29.03": "День специалиста юридической службы в Вооруженных Силах России",
               "01.04": "День смеха (День дурака)",
               "02.04": "День единения народов Беларуси и России",
               "06.04": "День работников следственных органов МВД России",
               "07.04": "День рождения Рунета",
               "08.04": "День российской анимации и День сотрудников военных комиссариатов в России",
               "11.04": "День Конституции Республики Крым",
               "12.04": "День космонавтики",
               "13.04": "День мецената и благотворителя в России",
               "15.04": "День специалиста по радиоэлектронной борьбе Вооруженных сил России",
               "17.04": "День ветеранов органов внутренних дел и внутренних войск МВД России",
               "18.04": "Международный день памятников и исторических мест и День воинской славы России — Ледовое побоище (1242)",
               "19.04": "День работника ломоперерабатывающей отрасли России",
               "20.04": "Национальный день донора в России",
               "21.04": "День Главбуха (День главного бухгалтера) в России и День местного самоуправления в России",
               "26.04": "День участников ликвидации последствий радиационных аварий и катастроф и памяти жертв этих аварий и катастроф",
               "27.04": "День российского парламентаризма и День нотариата в России",
               "28.04": "День борьбы за права человека от химической опасности (День химической безопасности)",
               "30.04": "День пожарной охраны России",
               "01.05": "Праздник Весны и Труда",
               "05.05": "День водолаза в России и День шифровальщика в России",
               "06.05": "День святого Георгия Победоносца",
               "07.05": "День радио и День создания Вооруженных сил России",
               "08.05": "День работников Федеральной службы по военно-техническому сотрудничеству России и День работников Федеральной службы по военно-техническому сотрудничеству России",
               "09.05": "День воинской славы России — День Победы советского народа в Великой Отечественной войне 1941—1945 годов (1945)",
               "13.05": "День Черноморского флота ВМФ России и День охранно-конвойной службы МВД России (День конвоира)",
               "14.05": "День фрилансера в России",
               "15.05": "Международный день семей",
               "17.05": "Всемирный день электросвязи и информационного общества",
               "18.05": "Международный день музеев и День Балтийского флота ВМФ России",
               "20.05": "День Волги",
               "21.05": "День полярника в России и День военного переводчика в России",
               "24.05": "День славянской письменности и культуры и День кадровика в России",
               "25.05": "День филолога",
               "26.05": "День российского предпринимательства",
               "27.05": "Общероссийский день библиотек (День библиотекаря)",
               "28.05": "День пограничника в России и День оптимизатора Рунета",
               "29.05": "День ветеранов таможенной службы России",
               "31.05": "День российской адвокатуры",
               "01.06": "Международный день защиты детей",
               "02.06": "День здорового питания и отказа от излишеств в еде",
               "05.06": "День эколога",
               "06.06": "Пушкинский день в России (День русского языка)",
               "07.06": "День краудфандинга",
               "08.06": "День социального работника в России и Всемирный день петербургских котов и кошек",
               "12.06": "День России",
               "14.06": "День работника миграционной службы России",
               "20.06": "День специалиста минно-торпедной службы ВМФ России",
               "21.06": "День кинологических подразделений МВД России (День кинолога)",
               "22.06": "День памяти и скорби — день начала Великой Отечественной войны (1941 год)",
               "23.06": "День балалайки — международный праздник музыкантов-народников",
               "24.06": "День Республики Чувашия",
               "27.06": "День молодежи России",
               "29.06": "День партизан и подпольщиков в России",
               "30.06": "День сотрудника службы охраны уголовно-исполнительной системы Министерства юстиции России",
               "03.07": "День ГАИ России (День ГИБДД МВД РФ)",
               "07.07": "День воинской славы России — День победы русского флота над турецким флотом в Чесменском сражении (1770 год) и Иван Купала",
               "08.07": "Всероссийский день семьи, любви и верности",
               "10.07": "День воинской славы России — День победы русской армии в Полтавской битве (1709)",
               "11.07": "День художника по свету (День светооператора)",
               "17.07": "День основания морской авиации ВМФ России",
               "18.07": "День создания органов государственного пожарного надзора в России",
               "19.07": "День юридической службы Министерства внутренних дел России",
               "24.07": "День кадастрового инженера в России",
               "25.07": "День сотрудника органов следствия Российской Федерации и День речной полиции в России",
               "26.07": "День парашютиста в России",
               "28.07": "День Крещения Руси",
               "01.08": "День памяти российских воинов, погибших в Первой мировой войне и Всероссийский день инкассатора",
               "02.08": "День Воздушно-десантных войск России",
               "06.08": "День Железнодорожных войск России",
               "07.08": "День Службы специальной связи и информации Федеральной службы охраны России",
               "09.08": "День воинской славы России — победа у мыса Гангут (1714)",
               "12.08": "День Военно-воздушных сил (День ВВС) России",
               "15.08": "День Республики Тыва (День Тувы)",
               "16.08": "День малинового варенья",
               "19.08": "День рождения русской тельняшки",
               "22.08": "День Государственного флага Российской Федерацииа",
               "23.08": "День воинской славы России — День победы советских войск в Курской битве (1943)",
               "27.08": "День российского кино",
               "01.09": "День знаний",
               "02.09": "День воинской славы — День окончания Второй мировой войны (1945 год)",
               "03.09": "День солидарности в борьбе с терроризмом",
               "04.09": "День специалиста по ядерному обеспечению России",
               "08.09": "День воинской славы России — День Бородинского сражения (1812 год)",
               "09.09": "День тестировщика в России и День дизайнера-графика в России",
               "11.09": "День воинской славы России — День победы русской эскадры у мыса Тендра (1790) и Всероссийский День Трезвости",
               "13.09": "День парикмахера в России",
               "19.09": "День оружейника в России",
               "20.09": "День рекрутера в России",
               "21.09": "День воинской славы России — День победы русских полков в Куликовской битве (1380 год)",
               "24.09": "День Государственного герба и Государственного флага Республики Крым",
               "27.09": "День воспитателя и всех дошкольных работников в России",
               "29.09": "День отоларинголога",
               "30.09": "День интернета в России",
               "01.10": "Международный день пожилых людей в России и День Сухопутных войск России",
               "03.10": "День ОМОНа в России",
               "04.10": "День Космических войск России и День гражданской обороны МЧС России",
               "05.10": "День учителя в России",
               "06.10": "День российского страховщика",
               "07.10": "День образования штабных подразделений МВД России",
               "08.10": "День командира надводного, подводного и воздушного корабля ВМФ России",
               "12.10": "День кадрового работника в России",
               "14.10": "День работников заповедного дела в России",
               "15.10": "День создания адресно-справочной службы Российского государства",
               "19.10": "Всероссийский день лицеиста",
               "20.10": "День военного связиста в России",
               "22.10": "День финансово-экономической службы Вооруженных Сил РФ",
               "23.10": "День работников рекламы в России",
               "24.10": "День подразделений специального назначения Вооруженных Сил России",
               "25.10": "День таможенника Российской Федерации",
               "28.10": "День создания армейской авиации России",
               "29.10": "День работников службы вневедомственной охраны Росгвардии",
               "30.10": "День основания Российского военно-морского флота",
               "31.10": "День сурдопереводчика в России",
               "01.11": "День судебного пристава в России",
               "04.11": "День воинской славы России — День народного единства",
               "05.11": "День военного разведчика в России",
               "07.11": "День воинской славы России — День проведения военного парада на Красной площади в 1941 году и День Октябрьской революции 1917 года",
               "10.11": "День сотрудника органов внутренних дел Российской Федерации",
               "11.11": "День работника восстановительного поезда в России",
               "12.11": "День специалиста по безопасности в России",
               "13.11": "День войск радиационной, химической и биологической защиты России",
               "14.11": "День социолога в России",
               "16.11": "Всероссийский день проектировщика",
               "18.11": "День рождения Деда Мороза",
               "19.11": "День ракетных войск и артиллерии в России",
               "21.11": "День бухгалтера в России",
               "22.11": "День психолога в России",
               "24.11": "День моржа",
               "27.11": "День морской пехоты России",
               "29.11": "День рождения создателя бота",
               "01.12": "Всемирный день борьбы со СПИДом",
               "02.12": "День банковского работника России",
               "03.12": "Международный день инвалидов",
               "04.12": "День информатики в России",
               "05.12": "День воинской славы России — День начала контрнаступления советских войск в битве под Москвой в 1941 году",
               "09.12": "День Героев Отечества в России",
               "10.12": "День создания службы связи МВД России",
               "12.12": "День Конституции Российской Федерации",
               "17.12": "День ракетных войск стратегического назначения Вооруженных Сил России",
               "18.12": "День работников органов ЗАГСа в России",
               "19.12": "День военной контрразведки в России",
               "22.12": "День энергетика в России",
               "23.12": "День дальней авиации ВВС России",
               "24.12": "День зачета по этому боту",
               "27.12": "День спасателя в России",}
    #bot.reply_to(message,"Сначала день, затем месяц")
@bot.message_handler(commands=['start'])
def send_welcome(message):
    bot.send_message(message.chat.id, "Введите дату: ")
    #bot.reply_to(message, "Введите дату: ")
    #global can_process
    #can_process = True

@bot.message_handler(commands=['today'])
def today(message):
    global present
    data = datetime.datetime.fromtimestamp(message.date).strftime("%d.%m")
    bot.send_message(message.chat.id, present[data])
@bot.message_handler(commands=['help'])
def help(message):
    bot.send_message(message.chat.id, "Введите сначала день, затем месяц(пример:'05.04')")
@bot.message_handler(func=lambda message: True)
def echo_all(message):
    global present
    #global can_process
    #if not can_process: return
    f = message.text
    id = message.chat.id
    try:
        bot.send_message(id, present[f])
    except KeyError:
        bot.send_message(id, "Нет праздника, либо нет информации")

    #bot.reply_to(message, message.txt)

bot.polling()
